---
import '../styles/global.css';
import revealScript from '../scripts/reveal.ts?url';
import navProgressScript from '../scripts/navProgress.ts?url';
import { ClientRouter, fade } from 'astro:transitions';

const {
	title = 'Aaron Cannon | Portfolio',
	description = 'Portfolio of Aaron Cannon, Computer Games Design student.',
} = Astro.props;
---

<!doctype html>
<html lang="en" transition:animate="none">
	<head>
		<ClientRouter />
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="description" content={description} />
		<link
			rel="icon"
			type="image/png"
			href={`${import.meta.env.BASE_URL}favicon.png`}
		/>

		<title>{title}</title>
	</head>

	<body class="min-h-screen bg-site text-zinc-100 antialiased">
		<a
			href="#content"
			class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-md focus:bg-zinc-900 focus:px-4 focus:py-2 focus:ring-2 focus:ring-zinc-200"
		>
			Skip to content
		</a>

		<header
			class="sticky top-0 z-40 border-b border-zinc-800/60 bg-zinc-950/80 backdrop-blur"
		>
			<div
				class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3"
			>
				<a class="font-semibold tracking-tight" href={import.meta.env.BASE_URL}>
					Aaron Cannon
				</a>

				<nav class="flex items-center gap-5 text-sm text-zinc-200">
					<a
						class="nav-link"
						data-nav-link="projects"
						href={`${import.meta.env.BASE_URL}#projects`}>Projects</a
					>
					<a
						class="nav-link"
						data-nav-link="about"
						href={`${import.meta.env.BASE_URL}#about`}>About</a
					>
					<a
						class="nav-link"
						data-nav-link="contact"
						href={`${import.meta.env.BASE_URL}#contact`}>Contact</a
					>

					<a
						class="rounded-md border border-zinc-700 bg-zinc-900/40 px-3 py-1.5 hover:bg-zinc-900 nav-link"
						data-nav-link="cv"
						href={`${import.meta.env.BASE_URL}cv`}
					>
						CV
					</a>
				</nav>
			</div>

			<div class="h-0.5 w-full bg-zinc-800/60">
				<div
					id="scroll-progress"
					class="h-full w-full origin-left bg-zinc-100/70"
					style="transform: scaleX(0);"
				>
				</div>
			</div>
		</header>

		<main id="content" transition:animate={fade({ duration: '140ms' })}>
			<slot />
		</main>

		<footer class="border-t border-zinc-800/60">
			<div class="mx-auto max-w-6xl px-4 py-8 text-sm text-zinc-400">
				Â© {new Date().getFullYear()} Aaron Cannon
			</div>
		</footer>
		<script type="module" src={navProgressScript}></script>
		<script type="module" src={revealScript}></script>
	</body>
</html>
