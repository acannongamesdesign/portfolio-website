---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { projects } from '../../data/projects';

export function getStaticPaths() {
	return projects.map((p) => ({
		params: { slug: p.slug },
		props: { project: p },
	}));
}

const { project } = Astro.props;
const base = import.meta.env.BASE_URL;
---

<BaseLayout title={`${project.title} | Aaron Cannon`}>
	<section class="border-b border-zinc-800/60">
		<div class="mx-auto max-w-6xl px-4 py-12">
			<a
				class="text-sm text-zinc-300 hover:text-white hover:underline"
				href={`${base}#projects`}
			>
				← Back to Projects
			</a>

			<div class="mt-6 flex flex-col gap-8 lg:flex-row lg:items-start">
				<div class="w-full lg:w-2/3">
					<h1 class="text-3xl font-semibold tracking-tight">{project.title}</h1>

					<div class="mt-4 flex flex-wrap gap-2 text-sm text-zinc-300">
						<span
							class="rounded-md border border-zinc-700 bg-zinc-900/30 px-2 py-1"
							>{project.year}</span
						>
						<span
							class="rounded-md border border-zinc-700 bg-zinc-900/30 px-2 py-1"
							>{project.engine}</span
						>
						<span
							class="rounded-md border border-zinc-700 bg-zinc-900/30 px-2 py-1"
							>{project.team}</span
						>
						<span
							class="rounded-md border border-zinc-700 bg-zinc-900/30 px-2 py-1"
							>{project.type}</span
						>
						<span
							class="rounded-md border border-zinc-700 bg-zinc-900/30 px-2 py-1"
							>{project.role}</span
						>
					</div>

					<div class="mt-8 space-y-4 text-zinc-300">
						<p>[Placeholder] Overview of the project.</p>
						<p>[Placeholder] Your responsibilities and what you contributed.</p>
						<p>
							[Placeholder] Tools/engine used, biggest challenges, and what you
							learned.
						</p>

						<h2 class="mt-8 text-xl font-semibold text-zinc-100">Process</h2>
						<p>[Placeholder] Pre-production → production → polish, etc.</p>

						<h2 class="mt-8 text-xl font-semibold text-zinc-100">
							Technical Breakdown
						</h2>
						<p>
							[Placeholder] Systems you built, architecture, key mechanics, etc.
						</p>

						<h2 class="mt-8 text-xl font-semibold text-zinc-100">Gallery</h2>
						<p>[Placeholder] Add screenshots / gifs later.</p>
					</div>
				</div>

				<aside class="w-full lg:w-1/3">
					<div
						class="overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900/20"
					>
						<div class="aspect-[16/10] border-b border-zinc-800">
							<img
								src={project.imageUrl}
								alt={`Screenshot from ${project.title}`}
								class="h-full w-full object-cover"
							/>
						</div>
						<div class="p-5 text-sm text-zinc-300">
							<p class="font-medium text-zinc-100">Project Summary</p>
							<p class="mt-2">{project.summary}</p>
						</div>
					</div>
				</aside>
			</div>
		</div>
	</section>
</BaseLayout>
